-- 1️⃣ Selezionare tutti gli studenti iscritti al Corso di Laurea in Economia
SELECT s.*
FROM studenti s
JOIN corsi_di_laurea c ON s.id_corso_laurea = c.id
WHERE c.nome = 'Economia';


-- 2️⃣ Selezionare tutti i Corsi di Laurea Magistrale del Dipartimento di Neuroscienze
SELECT c.*
FROM corsi_di_laurea c
JOIN dipartimenti d ON c.id_dipartimento = d.id
WHERE c.tipo_corso = 'Magistrale'
  AND d.nome = 'Neuroscienze';


-- 3️⃣ Selezionare tutti i corsi in cui insegna Fulvio Amato (id = 44)
SELECT co.*
FROM corsi co
JOIN insegnamenti i ON i.id_corso = co.id
WHERE i.id_docente = 44;


-- 4️⃣ Selezionare tutti gli studenti con i dati relativi al corso di laurea
--     e il relativo dipartimento, in ordine alfabetico per cognome e nome
SELECT s.nome,
       s.cognome,
       c.nome AS corso_laurea,
       d.nome AS dipartimento
FROM studenti s
JOIN corsi_di_laurea c ON s.id_corso_laurea = c.id
JOIN dipartimenti d ON c.id_dipartimento = d.id
ORDER BY s.cognome, s.nome;


-- 5️⃣ Selezionare tutti i corsi di laurea con i relativi corsi e insegnanti
SELECT cl.nome AS corso_di_laurea,
       co.nome AS corso,
       doc.nome AS nome_docente,
       doc.cognome AS cognome_docente
FROM corsi_di_laurea cl
JOIN corsi co ON co.id_corso_laurea = cl.id
JOIN insegnamenti i ON i.id_corso = co.id
JOIN docenti doc ON doc.id = i.id_docente
ORDER BY cl.nome, co.nome, doc.cognome;


-- 6️⃣ Selezionare tutti i docenti che insegnano nel Dipartimento di Matematica (id = 54)
SELECT DISTINCT doc.*
FROM docenti doc
JOIN insegnamenti i ON i.id_docente = doc.id
JOIN corsi co ON co.id = i.id_corso
JOIN corsi_di_laurea cl ON cl.id = co.id_corso_laurea
WHERE cl.id_dipartimento = 54;

